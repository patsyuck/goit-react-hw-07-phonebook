{"version":3,"sources":["redux/actions.js","redux/store.js","components/ContactForm/ContactForm.js","components/Filter/Filter.js","components/ContactItem/ContactItem.js","components/ContactList/ContactList.js","redux/contactsSelectors.js","App.js","index.js"],"names":["addContact","createAction","deleteContact","filterContacts","getData","fetchRequest","fetchSuccess","fetchError","reducer","createReducer","contacts","filter","isFetching","error","state","payload","data","item","id","target","value","console","log","store","configureStore","INITIAL_STATE","name","number","ContactForm","toggler","props","handleChange","setState","reset","handleSubmit","e","preventDefault","alert","friends","some","toLowerCase","contact","uuid","handlerSubmit","this","className","onSubmit","onChange","type","disabled","Component","Filter","ContactItem","onClick","ContactList","onMount","indexOf","map","friend","getFriends","getFilter","getFetching","connect","dispatch","handleData","axios","get","then","catch","handleInput","event","newContact","post","handleDelete","delete","deleteExistContact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0043ff8b.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const addContact = createAction('ADD_CONTACT');\nexport const deleteContact = createAction('DELETE_CONTACT');\nexport const filterContacts = createAction('FILTER_CONTACTS');\nexport const getData = createAction('GET_DATA')\nexport const fetchRequest = createAction('API/REQUEST')\nexport const fetchSuccess = createAction('API/SUCCESS')\nexport const fetchError = createAction('API/ERROR')\n\nexport const postContact = newContact => dispatch => {\n    dispatch(fetchRequest())\n    axios.post('http://localhost:3004/contacts', newContact)\n        .then(() => {\n            dispatch(fetchSuccess())\n            dispatch(addContact(newContact))\n        })\n        .catch((error) => {\n            dispatch(fetchError(error))\n        })\n}\n\nexport const getContacts = () => dispatch => {\n    dispatch(fetchRequest())\n    axios.get('http://localhost:3004/contacts')\n        .then((data) => {\n            dispatch(fetchSuccess())\n            dispatch(getData(data))\n        })\n        .catch((error) => {\n            dispatch(fetchError(error))\n        })\n}\n\nexport const deleteExistContact = id => dispatch => {\n    dispatch(fetchRequest())\n    axios.delete(`http://localhost:3004/contacts/${id}`)\n        .then((data) => {\n            dispatch(fetchSuccess(data))\n            dispatch(deleteContact(id))\n        })\n        .catch((error) => {\n            dispatch(fetchError(error))\n        })\n}\n","import { configureStore, createReducer } from '@reduxjs/toolkit';\nimport { addContact, deleteContact, filterContacts, getData, fetchRequest, fetchSuccess, fetchError } from './actions';\n\nconst initialState = {\n  contacts: [],\n  filter: '',\n  isFetching: false,\n  error: null\n};\n\nconst reducer = createReducer(initialState, {\n  [getData]: (state, { payload }) => ({\n    ...state,\n    contacts: payload.data\n  }),\n  [addContact]: (state, { payload }) => ({\n    ...state,\n    contacts: [...state.contacts, payload]\n  }),\n  [deleteContact]: (state, { payload }) => ({\n    ...state,\n    contacts: state.contacts.filter(item => item.id !== payload)\n  }),\n  [filterContacts]: (state, { payload }) => ({\n    ...state,\n    filter: payload.target.value,\n  }),\n  [fetchRequest]: (state) => ({\n    ...state,\n    isFetching: true\n  }),\n  [fetchSuccess]: (state) => ({\n    ...state,\n    isFetching: false\n  }),\n  [fetchError]: (state, { payload }) => {\n    console.log(payload)\n    return {\n      ...state,\n      isFetching: false,\n      error: payload\n    }\n  }\n});\n\nconst store = configureStore({\n  reducer: {\n    reducer,\n  },\n});\n\nexport default store;\n","import React, { Component } from 'react';\nimport { v4 as uuid } from 'uuid';\nimport './ContactForm.css';\n\nconst INITIAL_STATE = {\n  name: '',\n  number: '',\n};\n\nexport class ContactForm extends Component {\n  state = { ...INITIAL_STATE, toggler: this.props.isFetching };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  };\n\n  reset = () => {\n    this.setState({ ...INITIAL_STATE });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { name, number } = this.state;\n    \n    if ((name === '') || (number === '')) {\n      alert('Name and Number are required fields!')\n    } else if (\n      this.props.friends.some(\n        item => item.name.toLowerCase() === name.toLowerCase(),\n      )\n    ) {\n      alert(`${name} is already in contacts!`);\n    } else {\n      const contact = {\n        id: uuid(),\n        name: name,\n        number: number,\n      };\n      this.props.handlerSubmit(contact);\n    }\n\n    this.reset();\n  };\n\n  render() {\n    const { name, number, toggler } = this.state;\n    return (\n      <form className=\"form\" onSubmit={this.handleSubmit}>\n        <label>\n          Name\n          <input name=\"name\" value={name} onChange={this.handleChange} />\n        </label>\n        <label>\n          Number\n          <input name=\"number\" value={number} onChange={this.handleChange} />\n        </label>\n        <button type=\"submit\" disabled={toggler}>Add contact</button>\n      </form>\n    );\n  }\n}\n","import './Filter.css';\n\nconst Filter = ({ filter, onChange }) => {\n  return (\n    <div className=\"filter\">\n      <label>\n        Find contacts by name\n        <input value={filter} onChange={onChange} />\n      </label>\n    </div>\n  );\n};\n\nexport default Filter;\n","import './ContactItem.css';\n\nconst ContactItem = ({ id, name, number, onClick }) => {\n  return (\n    <li className=\"item\">\n      {name}: {number}\n      <button\n        onClick={() => {\n          onClick(id);\n        }}\n      >\n        Delete\n      </button>\n    </li>\n  );\n};\n\nexport default ContactItem;\n","import ContactItem from '../ContactItem/ContactItem';\nimport React, { Component } from 'react';\n\nexport class ContactList extends Component {\n  componentDidMount() {\n    this.props.onMount()\n  }\n\n  render() {\n    return (\n      <ul>\n        {this.props.friends\n          .filter(\n            item => item.name.toLowerCase().indexOf(this.props.filter.toLowerCase()) >= 0,\n          )\n          .map(friend => (\n            <ContactItem\n              key={friend.id}\n              id={friend.id}\n              name={friend.name}\n              number={friend.number}\n              onClick={this.props.onClick}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n\nexport default ContactList;\n","export const getFriends = state => state.reducer.contacts\nexport const getFilter = state => state.reducer.filter\nexport const getFetching = state => state.reducer.isFetching","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getContacts, filterContacts, postContact, deleteExistContact } from './redux/actions';\nimport { ContactForm } from './components/ContactForm/ContactForm';\nimport Filter from './components/Filter/Filter';\nimport ContactList from './components/ContactList/ContactList';\nimport {getFriends, getFilter, getFetching} from './redux/contactsSelectors'\n\nfunction App({ friends, filter, isFetching, handleData, handleInput, handleSubmit, handleDelete }) {\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ContactForm\n        friends={friends}\n        handlerSubmit={contact => handleSubmit(contact)}\n        isFetching={isFetching}\n      />\n      <h2>Contacts</h2>\n      <Filter\n        filter={filter}\n        onChange={event => handleInput(event)}\n      />\n      <ContactList\n        friends={friends}\n        filter={filter}\n        onClick={id => handleDelete(id)}\n        onMount={() => handleData()}\n      />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    friends: getFriends(state),\n    filter: getFilter(state),\n    isFetching: getFetching(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleData: () => dispatch(getContacts()),\n    handleInput: event => dispatch(filterContacts(event)),\n    handleSubmit: contact => dispatch(postContact(contact)),\n    handleDelete: id => dispatch(deleteExistContact(id))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport store from './redux/store';\nimport App from './App';\n/*import bigStore from './redux/store';\nimport {PersistGate} from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={bigStore.store}>\n      <PersistGate loading={null} persistor={bigStore.persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);*/\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}